# Calendario de Festivos Colombia

Este paquete cuenta con la capacidad de permitirte trabajar con las fechas festivas de Colombia. Con el uso de dos clases, podr√°s lograr resultados incre√≠bles en tus proyectos. Seguramente te ser√° de utilidad para proyectos donde requieras validar si una fecha es festiva, si un a√±o es bisiesto, cu√°ntos festivos existen entre un rango de fechas y mucho m√°s. Este paquete cuenta actualmente con soporte desde el a√±o 2000 hasta el 2034. Cada a√±o iremos agregando m√°s a√±os, nuestro compromiso es que siempre cuentes con la informaci√≥n de al menos 10 a√±os a futuro.

‚öôÔ∏è Esta librer√≠a es compatible con Laravel 9.0 y versiones posteriores ‚öôÔ∏è

[![Laravel 9.0+](https://img.shields.io/badge/Laravel-9.0%2B-orange.svg)](https://laravel.com)
[![Laravel 10.0+](https://img.shields.io/badge/Laravel-10.0%2B-orange.svg)](https://laravel.com)

üìñ [**DOCUMENTACI√ìN EN INGLES**](README_ENGLISH.md) üìñ

## Tabla de Contenido
- [Introducci√≥n](#introducci√≥n)
- [Instalaci√≥n](#instalaci√≥n)
- [Uso de la Clase **Calendar**](#uso-de-la-clase-calendar)
  - [M√©todo `today()`](#m√©todo-today)
  - [M√©todo `date()`](#m√©todo-date)
  - [M√©todo `timeZone()`](#m√©todo-timezone)
  - [M√©todos de Asignaci√≥n Encadenados](#m√©todos-de-asignaci√≥n-encadenados)
  - [M√©todos de Manipulaci√≥n de Fechas](#m√©todos-de-manipulaci√≥n-de-fechas)
  - [M√©todos Directos](#m√©todos-directos)
  - [M√©todos para Calcular Diferencias de Fechas](#m√©todos-para-calcular-diferencias-de-fechas)
- [Uso de la Clase **Holidays**](#uso-de-la-clase-holidays)
  - [M√©todos Disponibles para Trabajar con Festivos](#m√©todos-disponibles-para-trabajar-con-festivos)
- [Creador](#creador)
- [Licencia](#licencia)

## Introducci√≥n
Este paquete cuenta con dos clases de acceso a los m√©todos. La clase `Calendar` permitir√° que trabajes con las fechas ejecutando tareas de trabajo de rangos, aumentos, disminuciones y muchas otras tareas √∫tiles. La clase `Holidays` te permitir√° trabajar de manera exclusiva con las fechas festivas. El paquete actualmente solo cuenta con soporte para Colombia.

## Instalaci√≥n
Para instalar la dependencia a trav√©s de **Composer**, ejecuta el siguiente comando:

```shell
composer require rmunate/calendario-colombia
```

## Uso de la Clase **Calendar**
Para poder emplear los diferentes m√©todos disponibles en la clase, podr√°s inicializar su uso de tres formas diferentes:

### M√©todo `today()`
Este m√©todo inicializar√° la clase con la fecha actual de acuerdo a la zona horaria configurada en Laravel o de acuerdo a la zona horaria suministrada como argumento.

```php
use Rmunate\Calendario\Calendar;

// Inicializar la clase con la fecha actual de acuerdo a la zona horaria cargada en Laravel
$calendar = Calendar::today();

// Inicializar la clase con la fecha actual de la zona horaria suministrada.
$calendar = Calendar::today('America/Bogota');
```

### M√©todo `date()`
Este m√©todo permite enviar una fecha espec√≠fica para inicializar la clase.

```php
use Rmunate\Calendario\Calendar;

// Con una fecha espec√≠fica
$calendar = Calendar::date('2023-09-01');

// Con una fecha espec√≠fica y una zona horaria espec√≠fica
$calendar = Calendar::date('2023-09-01', 'America/Bogota');
```

### M√©todo `timeZone()`
Este m√©todo inicializa la clase con una zona horaria espec√≠fica.

```php
use Rmunate\Calendario\Calendar;

$calendar = Calendar::timeZone('America/Bogota');
```

### M√©todos de Asignaci√≥n Encadenados
A continuaci√≥n, listamos los m√©todos disponibles dentro de la clase que podr√°s usar para concatenarlos entre s√≠ y configurar la inicializaci√≥n de la clase de una manera m√°s clara y estructurada.

#### M√©todo `setTimezone()`
Asignar una zona horaria despu√©s de los m√©todos inicializadores `today()` o `date()`.

```php
use Rmunate\Calendario\Calendar;

$calendar = Calendar::date('2023-09-10')->setTimezone('America/Bogota');
$calendar = Calendar::today()->setTimezone('America/Bogota');
```

#### M√©todo `setDate()`
Asignar una fecha en caso de que el m√©todo inicializador sea `timeZone()`.

```php
use Rmunate\Calendario\Calendar;

$calendar = Calendar::timeZone('America/Bogota')->setDate('2023-09-10');
```

### M√©todos de Manipulaci√≥n de Fechas
A continuaci√≥n, listamos los m√©todos que podr√°s emplear anidados a cualquiera de los m√©todos de inicializaci√≥n previamente mencionados. Para efectos de este manual, usaremos el m√©todo de inicializaci√≥n `date()`, pero puedes usar cualquiera de los m√©todos mencionados anteriormente.

```php
use Rmunate\Calendario\Calendar;

// Saber si la fecha es un d√≠a festivo en Colombia.
$isHoliday = Calendar::date('2023-09-10')->isHoliday();

// Obtener el motivo del d√≠a festivo o nulo en caso de que no sea festivo.
$descriptionIfHoliday = Calendar::date('2023-09-10')->getDescriptionIfHoliday();

// Validar si la fecha corresponde a un d√≠a espec√≠fico de la semana. Retorna verdadero o falso.
$isMonday = Calendar::date('2023-09-10')->isMonday();
$isTuesday = Calendar::date('2023-09-10')->isTuesday();
$isWednesday = Calendar::date('2023-09-10')->isWednesday();
$isThursday = Calendar::date('2023-09-10')->isThursday();
$isFriday = Calendar::date('2023-09-10')->isFriday();
$isSaturday = Calendar::date('2023-09-10')->isSaturday();
$isSunday = Calendar::date('2023-09-10')->isSunday();

// Obtener valores espec√≠ficos de la fecha.
// Obtener el d√≠a del mes en formato de cadena o entero.
$dayNumberString = Calendar::date('2023-09-01')->getDayNumberString(); //"01"
$dayNumberInteger = Calendar::date('2023-09-01')->getDayNumberInteger(); //1

$monthNumberString = Calendar::date('2023-09-01')->getMonthNumberString(); //"09"
$monthNumberInteger = Calendar::date('2023-09-01')->getMonthNumberInteger(); //9

$year = Calendar::date('2023-09-01')->getYear(); //2023

// Obtener el ISO del d√≠a.
$isoDate = Calendar::date('2023-09-10')->getDayNumberISO(); //7 (1 para lunes - 7 para domingo)
$isoWeek = Calendar::date('2023-09-10')->getWeekISO(); //33

// Obtener el n√∫mero del d√≠a en el a√±o.
$numberDayInYear = Calendar::date('2023-09-10')->getDayYear(); //253

// Obtener el nombre del d√≠a en espa√±ol o ingl√©s.
$nameEnglish = Calendar::date('2023-09-10')->getNameDayEnglish(): //"Sunday"
$nameSpanish = Calendar::date('2023-09-10')->getNameDaySpanish(); //"Domingo"

// Obtener el nombre del mes en espa√±ol o ingl√©s.
$nameEnglish = Calendar::date('2023-09-10')->getNameMonthEnglish(): //"September"
$nameSpanish = Calendar::date('2023-09-10')->getNameDaySpanish(); //"Septiembre"

// Obtener la fecha como un arreglo.
$dateInArray = Calendar::date('2023-09-10')->toArray();
// array:3 [‚ñº 
//   "day" => "10"
//   "month" => "09"
//   "year" => "2023"
// ]

// Obtener la fecha como un objeto.
$dateInObject = Calendar::date('2023-09-10')->toObject();
// {#403 ‚ñº 
//   +"day": "10"
//   +"month": "09"
//   +"year": "2023"
// }

// Crear un arreglo de d√≠as hacia adelante de acuerdo a la cantidad suministrada.
$fixUp = Calendar::date('2023-09-10')->fixUp(3);
// array:4 [‚ñº 
//   0 => "2023-09-10"
//   1 => "2023-09-11"
//   2 => "2023-09-12"
//   3 => "2023-09-13"
// ]

// Crear un arreglo de d√≠as hacia atr√°s de acuerdo a la cantidad suministrada.
$fixDown = Calendar::date('2023-09-10')->fixDown(3);
// array:4 [‚ñº
//   0 => "2023-09-10"
//   1 => "2023-09-09"
//   2 => "2023-09-08"
//   3 => "2023-09-07"
// ]

// Agregar o restar d√≠as y obtener la fecha final.
$addDays = Calendar::date('2023-09-10')->addDays(3); //"2023-09-13"
$reduceDays = Calendar::date('2023-09-10')->subDays(3); //"2023-09-07" 

// Agregar o restar meses.
$addMonths = Calendar::date('2023-09-10')->addMonths(3); //"2023-12-10"
$subMonths = Calendar::date('2023-09-10')->subMonths(3); //"2023-06-10"

// Agregar o restar a√±os.
$addYears = Calendar::date('2023-09-10')->addYears(3); //"2026-09-10"
$subYears = Calendar::date('2023-09-10')->subYears(3); //"2020-09-10"

// Validar si la fecha es pasada o futura. Retorna verdadero o falso.
$isPast = Calendar::date('2023-09-10')->isPast();
$isFuture = Calendar::date('2023-09-10')->isFuture();
```

### M√©todos Directos
A continuaci√≥n, se listan los m√©todos que no requieren una inicializaci√≥n a trav√©s de una fecha o una zona horaria.

```php
use Rmunate\Calendario\Calendar;

// Conocer la cantidad de d√≠as de un mes en espec√≠fico.
$numberOfDaysMonth = Calendar::getDaysInMonth(2023, 9); //30

// Primer d√≠a del mes.
$firstDayOfMonth = Calendar::getFirstDayOfMonth(2023, 9); //"2023-09-01"

// √öltimo d√≠a del mes.
$lastDayOfMonth = Calendar::getLastDayOfMonth(2023, 9); //"2023-09-30"

// Validar si es un a√±o bisiesto - Retorna verdadero o falso.
$isLeapYear = Calendar::isLeapYear(2023);
```

### M√©todos para Calcular Diferencias entre Fechas
```php
use Rmunate\Calendario\Calendar;

// Diferencia entre dos fechas contemplando horas, minutos y segundos.
$diff = Calendar::diff(['2023-09-01 00:01:00', '2023-09-09 12:00:00'])->getDatetimeIntervals();
// {#404 ‚ñº
//   +"years": 0
//   +"months": 0
//   +"days": 8
//   +"hours": 11
//   +"minutes": 59
//   +"seconds": 0
// }

// Diferencia entre dos fechas sin contemplar horas, minutos y segundos.
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->getDateIntervals();
// {#404 ‚ñº
//   +"years": 0
//   +"months": 0
//   +"days": 8
// }

// Diferencia en Lenguaje Humano.
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->forHumans(); //"1 Semana Antes"
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->forHumans('es'); //"1 Semana Antes"
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->forHumans('en'); //"1 Week Before"
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->forHumans('fr'); //"1 Semaine Avant"
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->forHumans(...); //"...."

// Diferencia espec√≠ficamente en d√≠as.
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->inDays(); //8

// Diferencia excluyendo d√≠as espec√≠ficos. Tener presente que este m√©todo cuenta d√≠a a d√≠a, a excepci√≥n del m√©todo inDays() que no contempla el d√≠a inicial.
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->excludingDays(); //9 
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->excludingDays('Sabado', 'Domingo'); //6
$diff = Calendar::diff(['2023-09-01', '2023-09-09'])->excludingDays('Saturday', 'Sunday'); //6

// Diferencia entre dos fechas excluyendo festivos.
$diff = Calendar::diff(['2023-08-01', '2023-09-09'])->excludingHolidays(); //33

// Diferencia entre dos fechas excluyendo d√≠as espec√≠ficos m√°s d√≠as festivos.
$diff = Calendar::diff(['2023-08-01', '2023-09-09'])->excludingHolidaysAndThisDays('Viernes', 'Domingo'); //27
```

## Uso de la Clase **Holidays**
Con esta clase, podr√°s realizar diversas operaciones espec√≠ficamente con las fechas festivas del pa√≠s. Podr√°s inicializar la clase a trav√©s de la Clase `Calendar` o directamente usando `Holidays`.

Usando Calendar:
```php
use Rmunate\Calendario\Calendar;

$holidays = Calendar::onlyHolidays();
```

Usando Holidays:
```php
use Rmunate\Calendario\Holidays;

$holidays = Holidays::colombia();
```

### M√©todos Disponibles para Trabajar con D√≠as Festivos
Podr√°s usar cualquiera de los siguientes m√©todos concaten√°ndolos a las dos posibles maneras de inicializar la consulta de fechas festivas. Para efectos del manual, usaremos la clase `Holidays`.

```php
use Rmunate\Calendario\Holidays;

// Consultar los a√±os actualmente disponibles para trabajar los festivos.
$holidays = Holidays::colombia()->yearsAvailable();
// array:35 [‚ñº
//   0 => 2000
//   ...
//   34 => 2034
// ]

// Consulta del 100% de los d√≠as festivos disponibles en una colecci√≥n de Laravel Framework.
$holidays = Holidays::colombia()->all();

// Retorna los festivos espec√≠ficos de un a√±o en una colecci√≥n de Laravel Framework.
$holidays = Holidays::colombia()->year(2023)->get();

// Consultar los festivos de uno o varios a√±os.
$holidays = Holidays::colombia()->years(2022, 2023)->get();

// Consultar a su vez los festivos de un mes o varios meses en espec√≠fico.
$holidays = Holidays::colombia()->year(2023)->month(8)->get();
$holidays = Holidays::colombia()->years(2022, 2023)->month(8)->get();

$holidays = Holidays::colombia()->year(2023)->months(8, 9)->get();
$holidays = Holidays::colombia()->years(2022, 2023)->months(8, 9)->get();

// Consultar los festivos entre dos fechas.
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->get();

// Consultar los festivos sin incluir ciertos d√≠as.
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->notInclude('Domingo')->get();
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->notInclude('Sunday')->get();
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->notInclude('Viernes', 'Domingo')->get();

$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->except('Domingo')->get();
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->except('Sunday')->get();
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->except('Viernes', 'Domingo')->get();

// Consultar los festivos de los d√≠as de la semana suministrados.
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->include('Lunes')->get()
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->include('Sunday')->get()
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->include('Viernes', 'Domingo')->get()

$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->only('Lunes')->get()
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->only('Sunday')->get()
$holidays = Holidays::colombia()->between(['2023-08-01', '2023-09-09'])->only('Viernes', 'Domingo')->get()
```

### M√©todos Finales Diferentes a `->get()`
Adem√°s del m√©todo get, tendr√°s la posibilidad de emplear los siguientes m√©todos finales.

```php
$holidays = Holidays::colombia()->year(2023)->get(); // Retorna una colecci√≥n de Laravel
$holidays = Holidays::colombia()->year(2023)->toCollect(); // Retorna una colecci√≥n de Laravel
$holidays = Holidays::colombia()->year(2023)->toArray(); // Retorna la respuesta como un array
$holidays = Holidays::colombia()->year(2023)->toJson(); // Retorna la respuesta como un JSON
$holidays = Holidays::colombia()->year(2023)->count(); // Retorna la cuenta de d√≠as festivos
$holidays = Holidays::colombia()->year(2023)->first(); // Retorna el primer d√≠a festivo
$holidays = Holidays::colombia()->year(2023)->last(); // Retorna el √∫ltimo d√≠a festivo
$holidays = Holidays::colombia()->year(2023)->pluck('holiday_reason', 'full_date'); // Retorna un arreglo indexado de fecha y motivo del festivo
$holidays = Holidays::colombia()->year(2023)->groupBy('month'); // Retorna la data agrupada seg√∫n sea solicitado.
```

## Creador
- üá®üá¥ Ra√∫l Mauricio U√±ate Castro
- Email: raulmauriciounate@gmail.com

## Licencia
Este proyecto est√° bajo la [Licencia MIT](https://choosealicense.com/licenses/mit/).

üåü ¬°Apoya mis proyectos! üöÄ

Haz las contribuciones que consideres adecuadas; el c√≥digo es completamente tuyo. Juntos, podemos hacer cosas incre√≠bles y mejorar el mundo del desarrollo. Tu apoyo es invaluable. ‚ú®

Si tienes ideas, sugerencias o simplemente quieres colaborar, estamos abiertos a todo. √önete a nuestra comunidad y s√© parte de nuestro viaje hacia el √©xito. üåêüë©‚Äçüíªüë®‚Äçüíª